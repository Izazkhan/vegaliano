<div class="product max-w-[1600px] mx-auto px-4">
  <div class="breadcrumb py-4">
    {% render 'breadcrumb' %}
  </div>
  <div class="main-product flex flex-col md:flex-row justify-between">
    <div class="media-wrapper basis-3/5 md:px-3">
      <div class="grid md:grid-cols-2 gap-4 sm:hidden md:grid">
        {% for product_image in product.images %}
          <img src="{{ product_image | image_url }}" alt="{{product.title}}">
        {% endfor %}
      </div>
      <div class="embla_product relative w-full md:hidden">
        <div class="embla_product__viewport overflow-hidden">
          <div class="embla_product__container flex touch-pan-y">
            {% for product_image in product.images %}
              <div class="embla_product__slide flex-none w-full">
                <img src="{{ product_image | image_url }}" alt="{{product.title}}">
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div
        class="embla_product__dots absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse"
      ></div>
    </div>
    <div class="product-info basis-2/5 flex flex-col gap-2">
      <h1 class="text-[19px] font-semibold">Product Title</h1>
      <div class="product-price">
        <span class="text=[16px] font-medium">$9</span>
      </div>
      <div class="sku-wrapper text-[10px]">
        <span>SKU: </span>
        <span>{{ 'SKU' }}</span>
      </div>
      {% render 'variant-swatches' %}
    </div>
  </div>
</div>

<script>
  (function () {
    const OPTIONS = { loop: true, duration: 30 };
    const emblaNode = document.querySelector('.embla_product');
    const viewportNode = emblaNode.querySelector('.embla_product__viewport');
    const dotsNode = document.querySelector('.embla_product__dots');

    const emblaApi = EmblaCarousel(viewportNode, OPTIONS, [EmblaCarouselFade()]);

    const removeDotBtnsAndClickHandlers = EmblaUtils.addDotBtnsAndClickHandlers(emblaApi, dotsNode);

    emblaApi.on('destroy', removeDotBtnsAndClickHandlers);
  })();
</script>
