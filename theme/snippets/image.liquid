{% liquid
  assign small_screens = '320,480' | split: ','
  assign medium_screens = '768,1024' | split: ','
  assign large_screens = '1280,1600' | split: ','
  assign extra_large_screens = '1920,2560' | split: ','
  assign mb_src = mb_src | default: src
%}
<picture>
  <!-- Small screens (max-width: 480px) -->
  <source
    media="(max-width: 480px)"
    srcset="
      {% for width in small_screens %}
        {{ mb_src | image_url: width: width }} {{ width }}w
        {% if forloop.last == false %},{% endif %}
      {% endfor %}
    "
  >
  
  <!-- Medium screens (481px to 768px) -->
  <source
    media="(min-width: 481px) and (max-width: 768px)"
    srcset="
      {% for width in medium_screens %}
        {{ mb_src | image_url: width: width }} {{ width }}w
        {% if forloop.last == false %},{% endif %}
      {% endfor %}
    "
  >
  
  <!-- Large screens (769px to 1023px) -->
  <source
    media="(min-width: 769px) and (max-width: 1280px)"
    srcset="
      {% for width in large_screens %}
        {{ src | image_url: width: width }} {{ width }}w
        {% if forloop.last == false %},{% endif %}
      {% endfor %}
    "
  >
  
  <!-- Extra-large screens (1024px and above) -->
  <source
    media="(min-width: 1281px)"
    srcset="
      {% for width in extra_large_screens %}
        {{ src | image_url: width: width }} {{ width }}w
        {% if forloop.last == false %},{% endif %}
      {% endfor %}
    "
  >
  
  <!-- Fallback image -->
  <img
    width="100%"
    height="100%"
    src="{{ src | image_url }}"
    class="embla_slides_slide__img w-full max-h-full object-cover select-none"
    alt="{{ alt }}"
    loading="lazy"
  >
</picture>